!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e._utils=e._utils||{},e._utils.forEach=t(),e.returnExports=e._utils.forEach)}(this,function(){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString;return function(r,n,o){if("[object Function]"!==t.call(n))throw new TypeError("iterator must be a function");var i=r.length;if(i===+i)for(var s=0;i>s;s++)n.call(o,r[s],s,r);else for(var a in r)e.call(r,a)&&n.call(o,r[a],a,r)}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("foreach")):"function"==typeof define&&define.amd?define(["foreach"],t):(e._utils.jsonPointer=t(e._utils.forEach),e.returnExports=e._utils.jsonPointer)}(this,function(e){function t(e,r,n){if(3===arguments.length)return t.set(e,r,n);if(2===arguments.length)return t.get(e,r);var o=t.bind(t,e);for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i].bind(o,e));return o}var r=e;return t.get=function(e,r){for(var n,o=t.parse(r);o.length;){if(n=o.shift(),!e.hasOwnProperty(n))throw new Error("Invalid reference token: "+n);e=e[n]}return e},t.set=function(e,r,n){for(var o,i=t.parse(r),s=i[0];i.length>1;)o=i.shift(),s=i[0],e.hasOwnProperty(o)||(e[o]=s.match(/^\d+$/)?[]:{}),e=e[o];return e[s]=n,this},t.remove=function(e,r){var n=t.parse(r),o=n.pop();if(void 0===o)throw new Error('Invalid JSON pointer for remove: "'+r+'"');delete t.get(e,t.compile(n))[o]},t.dict=function(e,r){var n={};return t.walk(e,function(e,t){n[t]=e},r),n},t.walk=function(e,n,o){var i=[];o=o||function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Array]"===t},function s(e){r(e,function(e,r){i.push(String(r)),o(e)?s(e):n(e,t.compile(i)),i.pop()})}(e)},t.has=function(e,r){try{t.get(e,r)}catch(n){return!1}return!0},t.escape=function(e){return e.toString().replace(/~/g,"~0").replace(/\//g,"~1")},t.unescape=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},t.parse=function(e){if(""===e)return[];if("/"!==e.charAt(0))throw new Error("Invalid JSON pointer: "+e);return e.substring(1).split(/\//).map(t.unescape)},t.compile=function(e){return 0===e.length?"":"/"+e.map(t.escape).join("/")},t}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("json-pointer")):"function"==typeof define&&define.amd?define(["json-pointer"],t):(e.Nested=t(e._utils.jsonPointer),e.returnExports=e.Nested)}(this,function(e){function t(e,t,r){return e.has(t)?-1!==e.get(t).indexOf(r):!1}function r(e,t,r){var n=(!e.has(t)&&e.set(t,[]),e.get(t));n.push(r)}function n(e,t,r){var n=e.get(t),o=n.indexOf(r);n.splice(o,1),n.length||e.delete(t)}var o=e,i=Object.create(null),s=new WeakMap,a=function(e){this.callback=e,this.observers=new WeakMap;var t=this;this.handleChangeRecords=function(e){try{var r=e.map(t.transform,t);r=Array.prototype.concat.apply([],r),t.callback(r)}catch(n){console.log(n)}}};a.prototype.transform=function(e){var t=this.observers.get(e.object);return t=t.filter(function(e,t,r){return r.indexOf(e)===t}),t.map(function(t){return t.transform(e)})};var c=function(e,t,r){this.root=e,this.delegate=t,this.callback=t.handleChangeRecords,this.accept=r,this.paths=new WeakMap};return c.prototype.observe=function(e,n,i){if(n||(n=""),i||(i=new WeakMap),!i.has(e)){i.set(e,!0),t(this.delegate.observers,e,this)||(Array.isArray(e)&&!this.accept?Object.observe(e,this.callback,["add","update","delete","splice"]):Object.observe(e,this.callback,this.accept)),r(this.paths,e,n),r(this.delegate.observers,e,this);for(var s in e)"object"==typeof e[s]&&null!==e[s]&&this.observe(e[s],n+"/"+o.escape(s),i)}},c.prototype.unobserve=function(e,r){if(e||(e=this.root),r||(r=""),t(this.delegate.observers,e,this)){n(this.paths,e,r),n(this.delegate.observers,e,this),this.paths.has(e)||Object.unobserve(e,this.callback);for(var i in e)"object"==typeof e[i]&&this.unobserve(e[i],r+"/"+o.escape(i))}},c.prototype.transform=function(e){var t=String(e.name||e.index),r=this.paths.get(e.object)[0]+"/"+o.escape(t),n={root:this.root,path:r};for(var i in e)n[i]=e[i];var s=e.oldValue&&[e.oldValue]||e.removed||[];s.forEach(function(e){if(e&&"object"==typeof e){this.paths.get(e).filter(function(t){return!o.has(this.root,t)||o.get(this.root,t)!==e},this)}},this);var a=e.object[t];if("object"==typeof a){var c=Object.getOwnPropertyDescriptor(e.object,t);c.enumerable===!0?this.observe(a,r):this.unobserve(a,r)}return Object.preventExtensions(n),n},i.observe=function(e,t,r){if(void 0===e||"object"!=typeof e)return!1;var n;s.has(t)?n=s.get(t):(n=new a(t),s.set(t,n));var o=n.observers;if(!o.has(e)){var i=new c(e,n,r);i.observe(e)}},i.unobserve=function(e,t){if(s.has(t)){var r=s.get(t);if(r.observers.has(e)){var n=r.observers.get(e);n.forEach(function(e){e.unobserve()})}}},i.deliverChangeRecords=function(e){if("function"!=typeof e)throw new TypeError("Callback must be a function, given: "+e);if(s.has(e)){var t=s.get(e);Object.deliverChangeRecords(t.handleChangeRecords)}},i.debug=!1,i});